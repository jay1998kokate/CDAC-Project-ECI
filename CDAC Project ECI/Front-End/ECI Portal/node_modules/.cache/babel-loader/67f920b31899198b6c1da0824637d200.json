{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lakhe\\\\Desktop\\\\CDAC Project ECI\\\\Front-End\\\\ECI Portal\\\\src\\\\Pages\\\\ViewVoterProfile.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { url } from \"./../Common/Constant\";\nimport VoterProfile from \"../Components/VoterProfileComponent\";\nimport \"../Pages_CSS/VoterCSS/ViewVoterProfile.css\";\nimport { object } from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ViewVoterProfile() {\n  _s();\n\n  const [voterInfo, setVoterInfo] = useState({});\n  const history = useHistory();\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  const updatePersonalInfo = () => {\n    const data = {\n      voterId: voterInfo.voterId,\n      firstName: voterInfo.firstName,\n      middleName: voterInfo.middleName,\n      lastName: voterInfo.lastName,\n      dateOfBirth: voterInfo.dateOfBirth,\n      age: voterInfo.age,\n      gender: voterInfo.gender,\n      uid: voterInfo.uid,\n      pan: voterInfo.pan,\n      uniqueId: voterInfo.uniqueId\n    };\n    history.push(\"/home/updatePersonalInfo\", {\n      personalInfo: data\n    });\n  };\n\n  const updateAddressInfo = () => {\n    const data = {\n      addressId: voterInfo.addressId,\n      state: voterInfo.state,\n      district: voterInfo.district,\n      taluka: voterInfo.taluka,\n      village: voterInfo.village,\n      pincode: voterInfo.pincode,\n      assemblyId: voterInfo.assemblyId,\n      parlimentId: voterInfo.parlimentId,\n      voterId: voterInfo.voterId\n    };\n    history.push(\"/home/updateAddressInfo\", {\n      addressInfo: data\n    });\n  };\n\n  const updateDocumentInfo = () => {\n    const data = {\n      uidDoc: voterInfo.uidDoc,\n      panDoc: voterInfo.panDoc,\n      photo: voterInfo.photo,\n      voterId: voterInfo.voterId,\n      docId: voterInfo.docId\n    };\n    history.push(\"/home/updateDocumentInfo\", {\n      documentInfo: data\n    });\n  };\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n\n  const getProfile = () => {\n    if (user == undefined) history.push(\"/signin\");else {\n      axios.get(url + \"/user/\" + user.uniqueId).then(response => {\n        const result = response.data;\n\n        if (result.data == \"Source must not be null\") {\n          setVoterInfo({});\n        } else {\n          setVoterInfo(result.data);\n        }\n\n        console.log(result.data);\n      });\n    }\n  };\n\n  if (user != undefined) {\n    console.log(voterInfo);\n\n    if (Object.keys(voterInfo).length == 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Please Register as Voter.\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: () => {\n            history.push(\"/home/voterPersonalInfo\");\n          },\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(VoterProfile, {\n        voterInfo: voterInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 17\n  }, this);\n}\n\n_s(ViewVoterProfile, \"7iHHKn2XTQ12mqimu3Ql9oPMdmE=\", false, function () {\n  return [useHistory];\n});\n\n_c = ViewVoterProfile;\nexport default ViewVoterProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewVoterProfile\");","map":{"version":3,"sources":["C:/Users/lakhe/Desktop/CDAC Project ECI/Front-End/ECI Portal/src/Pages/ViewVoterProfile.js"],"names":["useEffect","useState","useHistory","axios","url","VoterProfile","object","ViewVoterProfile","voterInfo","setVoterInfo","history","user","JSON","parse","localStorage","getItem","updatePersonalInfo","data","voterId","firstName","middleName","lastName","dateOfBirth","age","gender","uid","pan","uniqueId","push","personalInfo","updateAddressInfo","addressId","state","district","taluka","village","pincode","assemblyId","parlimentId","addressInfo","updateDocumentInfo","uidDoc","panDoc","photo","docId","documentInfo","getProfile","undefined","get","then","response","result","console","log","Object","keys","length"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { url } from \"./../Common/Constant\";\r\nimport VoterProfile from \"../Components/VoterProfileComponent\";\r\nimport \"../Pages_CSS/VoterCSS/ViewVoterProfile.css\";\r\nimport { object } from \"yup\";\r\n\r\nfunction ViewVoterProfile() {\r\n  const [voterInfo, setVoterInfo] = useState({});\r\n  const history = useHistory();\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  const updatePersonalInfo = () => {\r\n    const data = {\r\n      voterId: voterInfo.voterId,\r\n      firstName: voterInfo.firstName,\r\n      middleName: voterInfo.middleName,\r\n      lastName: voterInfo.lastName,\r\n      dateOfBirth: voterInfo.dateOfBirth,\r\n      age: voterInfo.age,\r\n      gender: voterInfo.gender,\r\n      uid: voterInfo.uid,\r\n      pan: voterInfo.pan,\r\n      uniqueId: voterInfo.uniqueId,\r\n    };\r\n    history.push(\"/home/updatePersonalInfo\", { personalInfo: data });\r\n  };\r\n\r\n  const updateAddressInfo = () => {\r\n    const data = {\r\n      addressId: voterInfo.addressId,\r\n      state: voterInfo.state,\r\n      district: voterInfo.district,\r\n      taluka: voterInfo.taluka,\r\n      village: voterInfo.village,\r\n      pincode: voterInfo.pincode,\r\n      assemblyId: voterInfo.assemblyId,\r\n      parlimentId: voterInfo.parlimentId,\r\n      voterId: voterInfo.voterId,\r\n    };\r\n    history.push(\"/home/updateAddressInfo\", { addressInfo: data });\r\n  };\r\n\r\n  const updateDocumentInfo = () => {\r\n    const data = {\r\n      uidDoc: voterInfo.uidDoc,\r\n      panDoc: voterInfo.panDoc,\r\n      photo: voterInfo.photo,\r\n      voterId: voterInfo.voterId,\r\n      docId: voterInfo.docId,\r\n    };\r\n    history.push(\"/home/updateDocumentInfo\", { documentInfo: data });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProfile();\r\n  }, []);\r\n\r\n  const getProfile = () => {\r\n    if (user == undefined) history.push(\"/signin\");\r\n    else {\r\n      axios.get(url + \"/user/\" + user.uniqueId).then((response) => {\r\n        const result = response.data;\r\n        if(result.data==\"Source must not be null\"){\r\n          setVoterInfo({});\r\n        }\r\n        else{\r\n          setVoterInfo(result.data);\r\n         }\r\n         console.log(result.data);\r\n        \r\n      });\r\n    }\r\n  };\r\n\r\n  if (user != undefined) {\r\n    console.log(voterInfo)\r\n    if(Object.keys(voterInfo).length==0){\r\n      return (\r\n        <div>\r\n          Please Register as Voter.\r\n        <button className=\"btn btn-success\" onClick={()=>{\r\n          history.push(\"/home/voterPersonalInfo\")\r\n        }}>Register</button>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div>\r\n        \r\n        <VoterProfile voterInfo={voterInfo} />\r\n      </div>\r\n    );\r\n  } else return <div></div>;\r\n}\r\n\r\nexport default ViewVoterProfile;\r\n"]},"metadata":{},"sourceType":"module"}